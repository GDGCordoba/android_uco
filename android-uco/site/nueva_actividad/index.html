
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../img/favicon.ico">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.1">
    
    
      
        <title>Abrir una nueva actividad - GDG Córdoba - Android básico</title>
      
    
    
      <script src="../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-a20f419c8e.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="GDG Córdoba - Android básico" class="md-header-nav__button md-logo">
          
            
              <img src="../img/logo.png" width="24" height="24">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Abrir una nueva actividad
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/GDGCordoba/android_uco.github.io.git" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GDGCordoba/android_uco
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../img/logo.png">
        
      
    </div>
    GDG Córdoba - Android básico
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/GDGCordoba/android_uco.github.io.git" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GDGCordoba/android_uco
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Inicio" class="md-nav__link">
      Inicio
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../create_project/" title="Crear proyecto" class="md-nav__link">
      Crear proyecto
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../vista/" title="Organizar la vista" class="md-nav__link">
      Organizar la vista
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../constantes/" title="Usando constantes como recursos" class="md-nav__link">
      Usando constantes como recursos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api/" title="Usando una API externa" class="md-nav__link">
      Usando una API externa
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../listado/" title="Crear un listado" class="md-nav__link">
      Crear un listado
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../vista/" title="Nuestra primera vista" class="md-nav__link">
      Nuestra primera vista
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../inflando_vista/" title="Inflando la vista" class="md-nav__link">
      Inflando la vista
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../pidiendo_datos/" title="Haciendo una petición al servidor" class="md-nav__link">
      Haciendo una petición al servidor
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Abrir una nueva actividad
      </label>
    
    <a href="./" title="Abrir una nueva actividad" class="md-nav__link md-nav__link--active">
      Abrir una nueva actividad
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#primeros-pasos" title="Primeros pasos" class="md-nav__link">
    Primeros pasos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nota" title="Nota" class="md-nav__link">
    Nota
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#por-que-usamos-interfaces" title="¿Por qué usamos interfaces?" class="md-nav__link">
    ¿Por qué usamos interfaces?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nota_1" title="Nota" class="md-nav__link">
    Nota
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asignando-el-evento" title="Asignando el evento" class="md-nav__link">
    Asignando el evento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asignando-el-evento-en-la-actividad" title="Asignando el evento en la actividad" class="md-nav__link">
    Asignando el evento en la actividad
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nota_2" title="Nota" class="md-nav__link">
    Nota
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-un-intent" title="¿Qué es un intent?" class="md-nav__link">
    ¿Qué es un intent?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declarando-nuestro-intent-para-abrir-otra-actividad" title="Declarando nuestro intent para abrir otra actividad" class="md-nav__link">
    Declarando nuestro intent para abrir otra actividad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra" title="Extra" class="md-nav__link">
    Extra
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#primeros-pasos" title="Primeros pasos" class="md-nav__link">
    Primeros pasos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nota" title="Nota" class="md-nav__link">
    Nota
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#por-que-usamos-interfaces" title="¿Por qué usamos interfaces?" class="md-nav__link">
    ¿Por qué usamos interfaces?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nota_1" title="Nota" class="md-nav__link">
    Nota
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asignando-el-evento" title="Asignando el evento" class="md-nav__link">
    Asignando el evento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asignando-el-evento-en-la-actividad" title="Asignando el evento en la actividad" class="md-nav__link">
    Asignando el evento en la actividad
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nota_2" title="Nota" class="md-nav__link">
    Nota
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-un-intent" title="¿Qué es un intent?" class="md-nav__link">
    ¿Qué es un intent?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declarando-nuestro-intent-para-abrir-otra-actividad" title="Declarando nuestro intent para abrir otra actividad" class="md-nav__link">
    Declarando nuestro intent para abrir otra actividad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra" title="Extra" class="md-nav__link">
    Extra
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="abrir-una-nueva-actividad">Abrir una nueva actividad</h1>
<h2 id="primeros-pasos">Primeros pasos</h2>
<p>Para crear la actividad pulsamos sobre el package de nuestra app, click derecho, New -&gt; Activity -&gt; Empty Activity. Le ponemos como nombre <strong>DogDetailsActivity</strong>.</p>
<p><img alt="Screenshot" src="../img/new_activity.png" /></p>
<p>Hemos marcado las opciones de que nos cree un layout propio para actividad y que sea retrocompatible con otras versiones de Android.</p>
<hr />
<h3 id="nota">Nota</h3>
<p>Cuando agregamos una actividad, esta se debe de dar de alta en el <strong>AndroidManifest.xml</strong>. Al crearla de la forma indicada Android Studio lo hará por nosotros, pero si lo hacemos nosotros a mano tenemos que tenerlo en cuenta.</p>
<hr />
<p>Ya que nuestra app tiene un listado de items, ahora el siguiente paso es hacer que al pulsar en uno de ellos el item nos diriga a una pantalla donde nos de más información de la raza elegida.</p>
<p>Primero, vamos a crear una interfaz llamada <strong>onClickOnItem</strong>.</p>
<h3 id="por-que-usamos-interfaces">¿Por qué usamos interfaces?</h3>
<p>Las interfaces sirven como contratos para que una clase implemente ciertas funciones. Nos sirve para definir como interactuar con las clases en caso de que hagamos una librería o pueden servirnos para ordenar nuestro propio código, ya que obligamos a que nuestra clase cumpla una determinada especificación de requisitos.</p>
<p>Una interfaz simplemente lista funciones, que a su vez serán implementadas por una clase. Hay que tener cuidado y hacer las interfaces lo más básicas posibles, ya que sino podemos tener funciones vacías en nuestra clase que no nos sirven para nada (violación del Principio Segregacion de interfaces).</p>
<p>En nuestra interfaz, vamos a definir un método llamado <strong>onClickBreed()</strong></p>
<pre><code class="Java">public interface OnClickOnItem {
    public void onClickBreed();
}
</code></pre>

<hr />
<h3 id="nota_1">Nota</h3>
<p>Podemos llamar a nuestra interfaz como queramos, incluso OnClick, pero para evitar que haya equivocación con la OnClick de Butterknife elegimos OnClickOnItem.</p>
<hr />
<p>Cuando vamos a setear un evento de click, tenemos que cumplir dos pasos:</p>
<ul>
<li>Hay que declarar el evento <strong>onClickListener</strong> en el layout que queremos pulsar.</li>
<li>Hay que implementar el método de click (en nuestro caso <strong>onClickBreed</strong>) en la actividad, adapter o fragment correspondiente.</li>
</ul>
<h2 id="asignando-el-evento">Asignando el evento</h2>
<p>Nos vamos a nuestro adapter, y declaramos el siguiente método dentro de nuestro ViewHolder:</p>
<pre><code class="Java">public void setOnClickListener(final OnClickOnItem onClick){
    itemView.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View view) {
            onClick.onClickBreed();
        }
    });
}
</code></pre>

<p>Nuestra variable <strong>itemView</strong> es nuestra vista completa, es decir, toda la vista que engloba al CardView y los elementos que van dentro. Lo hacemos así para que, pulsemos donde pulsemos, el evento se dispare. Podemos tener un evento distinto para cada item de la CardView si queremos, pero no es el caso.</p>
<p>Ahora, para que el adapter llame a la actividad, primero debe recibir por constructor una instancia de la clase que implementa este interface <strong>OnClickOnItem</strong>.</p>
<p>Para ello, vamos a nuestro adaptador y añadimos un parámetro OnClickOnItem:</p>
<pre><code class="Java">private OnClickOnItem onClick;

public DogListAdapter(OnClickOnItem onClick) {
    ...
    this.onClick = onClick;
}
</code></pre>

<p>Por último en nuestro adaptador, vamos al método <strong>onBindViewHolder</strong> y seteamos el evento de esta manera:</p>
<pre><code class="Java">@Override
public void onBindViewHolder(ViewHolder holder, int position) {
    ...
    holder.setOnClickListener(onClick);
}
</code></pre>

<p>Con esto, ya enlazamos la función de onClick que vamos a implementar en la actividad con el item.</p>
<h2 id="asignando-el-evento-en-la-actividad">Asignando el evento en la actividad</h2>
<p>Una vez que el item dispare el evento, acto seguido se dispará la función en la actividad.</p>
<p>Si abrimos el archivo de MainActivity.java, vamos a notar que tenemos un error a la hora de declarar el adaptador. Eso es porque no estamos pasando una instancia de la interfaz.</p>
<p>Para arreglarlo, primero la actividad tiene que implementar la interfaz.</p>
<pre><code class="Java">public class MainActivity extends AppCompatActivity implements OnClickOnItem{

}
</code></pre>

<p>Ahora, veremos como se subraya de rojo. Eso es debido a que estamos implementando una intefaz pero no hemos declarado la función que nos obliga a implementar (contrato de la interfaz). Escribimos la función o hacemos que AS nos la genere (Alt + Enter).</p>
<p>Ahora que ya tenemos la función, podemos pasar una instancia de la intefaz.</p>
<hr />
<h3 id="nota_2">Nota</h3>
<p>Una vez que la clase implementa una intefaz, podemos pasar la instancia de la interfaz a otras clases usando el objeto <strong>this</strong> (Programación orientada a objetos). Básicamente, cuando implementamos una interfaz, toda su implementación se suma a la clase.</p>
<hr />
<p>Ahora, pasamos la instancia al adaptador:</p>
<pre><code class="Java">private void setAdapter() {
    adapter = new DogListAdapter(this);
}
</code></pre>

<p>Por último, abrimos la nueva actividad. Para ello debemos trabajar con los intents.</p>
<h2 id="que-es-un-intent">¿Qué es un intent?</h2>
<p>Según la <a href="https://developer.android.com/guide/components/intents-filters.html">documentación de Android</a>, un intent es <strong><em>un objeto de acción que puedes usar para solicitar una acción de otro componente de la aplicación</em></strong> . Hay dos tipos de Intents:</p>
<ul>
<li>Explícitos: especifican que componente queremos abrir según su nombre (nombre de clase). Las usamos para abrir nuevas actividades de nuestra aplicación.</li>
<li>Implícitos: aquí no se especifica qué componente vamos a abrir pero declara una acción general a realizar. Por ejemplo el abrir un mapa o el compartir algo por una red social.</li>
</ul>
<h3 id="declarando-nuestro-intent-para-abrir-otra-actividad">Declarando nuestro intent para abrir otra actividad</h3>
<p>Nos vamos a nuestra función <strong>onClickBreed()</strong> y añadimos el siguiente código:</p>
<pre><code class="Java">@Override
public void onClickBreed() {
    Intent intent = new Intent(this, DogDetailsActivity.class);
    startActivity(intent);
}
</code></pre>

<p>Ahora si probamos la app podremos abrir la nueva actividad.</p>
<hr />
<h3 id="extra">Extra</h3>
<p>Como curiosidad, si vamos a nuestro AndroidManifest.xml y añadimos la siguiente propiedad a nuestra nueva actividad nos aparecerá la flecha para ir hacia atrás.</p>
<pre><code class="xml">android:parentActivityName=&quot;.MainActivity&quot;
</code></pre>

<hr />
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../pidiendo_datos/" title="Haciendo una petición al servidor" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Haciendo una petición al servidor
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>